# Gaze 🚀

**Wails**、**React**、**Ant Design** で構築された、強力でモダンな自己完結型の Android 管理ツールです。

> ✨ **注意**: このアプリケーションは純粋な **vibecoding** の産物です。

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Windows%20%7C%20Linux-lightgrey.svg)

## ✨ 特徴

### 📱 デバイス管理
- **統合デバイスリスト**: 物理デバイスとワイヤレスデバイス（USB/Wi-Fi統合）をシームレスに一元管理。
- **ワイヤレス接続**: IP/ポートのペアリング、mDNSサポートで簡単に接続。
- **デバイス履歴**: 以前接続したオフラインデバイスに素早くアクセス。
- **デバイスの固定**: よく使うデバイスをリストのトップに固定。
- **シーケンシャルリフレッシュ**: よりスマートなポーリングで、安定したチラつきのないUIを実現。

### 📦 アプリ管理
- **完全なパッケージ制御**: インストール（ドラッグ＆ドロップ）、アンインストール、有効化、無効化、強制停止、データ消去。
- **APK管理**: インストール済みAPKのエクスポート、一括インストール。
- **スマートフィルタリング**: システム/ユーザーアプリで検索・フィルタリング。
- **クイックアクション**: アプリの起動やログへの直接ジャンプ。

### 🖥️ スクリーンミラーリング (Scrcpy)
- **高性能**: Scrcpyによる低遅延ミラーリング。
- **録画**: 独立したバックグラウンド録画、複数デバイスの同時録画をサポート、ワンクリックでフォルダにアクセス。
- **オーディオ転送**: デバイスの音声をPCにストリーミング (Android 11+)。
- **カスタマイズ**: 解像度、ビットレート、FPS、コーデック (H.264/H.265) を調整。
- **制御**: マルチタッチ対応、スリープ防止、画面オフモード。

### 📂 ファイル管理
- **多機能エクスプローラー**: 閲覧、コピー、切り取り、貼り付け、名前変更、削除、フォルダ作成。
- **ドラッグ＆ドロップ**: ウィンドウにファイルをドラッグするだけでアップロード。
- **ダウンロード**: デバイスからPCへ簡単にファイルを転送。
- **プレビュー**: ホストマシン上でデフォルトアプリを使ってファイルを直接開く。

### 📜 高度な Logcat
- **リアルタイムストリーミング**: 自動スクロール制御付きのライブログビューア。
- **強力なフィルタリング**: ログレベル、タグ、PID、またはカスタム正規表現でフィルタリング。
- **プレフィルタリング (Pre-Filter)**: 特定のルールに一致するログのみをバッファリングする高性能機能。
- **アプリ中心**: 特定のアプリのログを自動フィルタリング。
- **JSON 整形**: ログ内の JSON セグメントを自動検出し、読みやすく整形します。

### 🌐 ネットワーク分析とプロキシ (MITM)
- **自動キャプチャ**: ワンクリックで HTTP/HTTPS プロキシサーバーを起動し、ADB 経由でデバイスのプロキシ設定を自動構成。
- **HTTPS 復号化 (MITM)**: CA 証明書の自動生成と展開により、SSL トラフィックの復号化をサポート。
- **WebSocket 対応**: リアルタイムの WebSocket 通信をキャプチャして検査可能。
- **大容量データの処理**: 最大 100MB までの未切断データキャプチャをサポートし、5000 件のログキャッシュを搭載。
- **トラフィック制御**: デバイスごとの帯域幅制限や人工的な遅延により、実際のネットワーク環境をシミュレート。
- **数値の可視化**: 選択したデバイスの受信 (RX) / 送信 (TX) 速度をリアルタイムに監視。

### 💻 ADB シェル
- **統合コンソール**: アプリ内でADBコマンドを直接実行。
- **コマンド履歴**: 過去に実行したコマンドに素早くアクセス。

### 🔌 システムトレイ
- **クイックアクセス**: メニューバー/システムトレイからミラーリング制御やデバイス状態を確認。
- **デバイスの固定**: よく使うデバイスをリストとトレイメニューのトップに固定。
- **トレイ機能**: 固定デバイスのLogcat、シェル、ファイルマネージャーに直接アクセス。
- **録画インジケーター**: 録画中はトレイに赤いドットを表示。
- **バックグラウンド動作**: アプリをバックグラウンドで実行し、即座にアクセス可能に。

---

## 🛠️ 内蔵バイナリ

このアプリケーションは完全に自己完結型です。以下を同梱しています：
- **ADB** (Android Debug Bridge)
- **Scrcpy** 実行ファイル
- **Scrcpy-server**

起動時に、これらは一時ディレクトリに展開され、自動的に使用されます。システムの PATH を設定する必要はありません。

---

## ⚠️ Xiaomi/Poco/Redmi ユーザーへの重要な注意

Scrcpy で**タッチ操作**を有効にするには、以下を行う必要があります：
1. **開発者オプション**に移動します。
2. **USB デバッグ**を有効にします。
3. **USB デバッグ（セキュリティ設定）**を有効にします。
   *(注意: ほとんどの Xiaomi デバイスでは、これに SIM カードと Mi アカウントのログインが必要です)*。

---

## 🚀 はじめに

### 前提条件
- **Go** (v1.21)
- **Node.js** (v18 LTS)
- **Wails CLI** (v2.9.2)
  ```bash
  go install github.com/wailsapp/wails/v2/cmd/wails@v2.9.2
  ```

### 開発
```bash
wails dev
```

### ビルド
```bash
wails build
```
コンパイルされたアプリケーションは `build/bin` で利用可能です。

### リリース
このプロジェクトは GitHub Actions を使用して、マルチプラットフォームのビルドを自動化しています。新しいリリースを作成するには：
1. コミットにタグを付ける: `git tag v1.0.0`
2. タグをプッシュする: `git push origin v1.0.0`
GitHub Action は macOS、Windows、Linux 用に自動的にビルドし、アーティファクトをリリースページにアップロードします。

---

## 🔧 トラブルシューティング

### macOS: "Appが壊れているため開けません"
GitHubからダウンロードした際に *"Gaze.app は壊れているため開けません"* というエラーが表示される場合、これは macOS Gatekeeper の隔離機能によるものです。

これを解決するには、ターミナルで以下のコマンドを実行してください：
```bash
sudo xattr -cr /path/to/Gaze.app
```
*(`/path/to/Gaze.app` はダウンロードしたアプリケーションの実際のパスに置き換えてください)*

> **または自分でビルドする：** Gatekeeperを回避したくない場合は、ローカルで[ソースからアプリをビルド](#-はじめる)することができます。数分で終わります！

### Windows: "Windows によって PC が保護されました"
青い SmartScreen ウィンドウが起動をブロックする場合：
1. **詳細情報 (More info)** をクリックします。
2. **実行 (Run anyway)** をクリックします。

---

## 📄 ライセンス
このプロジェクトは MIT ライセンスの下でライセンスされています。
