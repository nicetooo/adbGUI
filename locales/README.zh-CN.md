# Gaze 🚀

一个强大、现代且自包含的 Android 管理工具，基于 **Wails**、**React** 和 **Ant Design** 构建。

> ✨ **注意**：本应用为纯 **vibecoding** 产物。

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Windows%20%7C%20Linux-lightgrey.svg)

## ✨ 功能特性

### 📱 设备管理
- **统一设备列表**：无缝管理统一的物理和无线设备（USB/Wi-Fi 自动合并）。
- **无线连接**：通过 IP/端口配对轻松连接，支持 mDNS。
- **设备历史**：快速访问以前连接过的离线设备。
- **顺序刷新**：更智能的轮询机制，实现稳定、无闪烁的 UI。

### 📦 应用管理
- **全面包管理**：安装（拖放）、卸载、启用、禁用、强制停止、清除数据。
- **APK 管理**：导出已安装的 APK、批量安装。
- **智能过滤**：按系统/用户应用进行搜索和过滤。
- **快速操作**：启动应用或直接跳转到其日志。

### 🖥️ 屏幕镜像 (Scrcpy)
- **高性能**：由 Scrcpy 驱动的低延迟镜像。
- **录屏**：独立后台录制，支持多设备同时录制，一键访问文件夹。
- **音频转发**：将设备音频流式传输到电脑（Android 11+）。
- **自定义**：调整分辨率、码率、FPS 和编解码器 (H.264/H.265)。
- **控制**：多点触控支持、保持唤醒、息屏模式。

### 📂 文件管理
- **全功能文件管理器**：浏览、复制、剪切、粘贴、重命名、删除和创建文件夹。
- **拖放**：只需将文件拖到窗口即可上传。
- **下载**：轻松将文件从设备传输到电脑。
- **预览**：直接在主机上通过默认应用打开文件。

### 📜 高级 Logcat
- **实时流**：带有自动滚动控制的实时日志查看器。
- **强大过滤**：按日志级别、Tag、PID 或自定义正则表达式过滤。
- **以应用为中心**：自动过滤特定应用的日志。
- **JSON 状态化**：自动美化日志中检测到的 JSON 段落。

### 🌐 网络分析与代理 (MITM)
- **自动化抓包**：一键开启 HTTP/HTTPS 代理服务器，并通过 ADB 自动配置手机代理。
- **HTTPS 解密 (MITM)**：支持解密 SSL 流量，内置自动 CA 证书生成与推送功能。
- **WebSocket 支持**：实时捕获并查看 WebSocket 传输内容。
- **大数据处理**：支持捕获高达 100MB 的完整数据包而不截断，并拥有 5000 条日志缓存。
- **弱网模拟**：模拟真实网络环境，支持按设备限制下行/上行带宽以及设置人工延迟。
- **数值可视化**：实时监控所选设备的下行 (RX) / 上行 (TX) 速率。

### 💻 ADB Shell
- **集成控制台**：直接在应用内运行原始 ADB 命令。
- **命令历史**：快速访问以前执行过的命令。

### 🔌 系统托盘
- **快速访问**：从菜单栏/系统托盘控制镜像并查看设备状态。
- **设备置顶**：将常用设备置顶，方便在系统菜单中快速操作。
- **功能直达**：从托盘菜单直接打开置顶设备的 Logcat、Shell 或文件管理器。
- **录制指示灯**：录制激活时，托盘图标显示红色圆点状态。
- **后台运行**：保持应用在后台运行，以便即时访问。

---

## 🛠️ 内置二进制文件

本应用完全自包含。它捆绑了：
- **ADB** (Android Debug Bridge)
- **Scrcpy** 可执行文件
- **Scrcpy-server**

启动时，这些文件会被提取到临时目录并自动使用。您无需配置系统环境变量。

---

## ⚠️ 小米/Poco/红米用户重要提示

要在 Scrcpy 中启用**触摸控制**，您必须：
1. 进入 **开发者选项**。
2. 启用 **USB 调试**。
3. 启用 **USB 调试（安全设置）**。
   *(注意：在大多数小米设备上，这需要插入 SIM 卡并登录小米账号)*。

---

## 🚀 开始使用

### 前置条件
- **Go** (v1.21)
- **Node.js** (v18 LTS)
- **Wails CLI** (v2.9.2)
  ```bash
  go install github.com/wailsapp/wails/v2/cmd/wails@v2.9.2
  ```

### 开发
```bash
wails dev
```

### 构建
```bash
wails build
```
编译后的应用将位于 `build/bin` 目录。

### 发布
本项目使用 GitHub Actions 自动进行多平台构建。要创建新版本：
1. 为您的提交打标签：`git tag v1.0.0`
2. 推送标签：`git push origin v1.0.0`
GitHub Action 将自动为 macOS、Windows 和 Linux 构建，并将产物上传到 Release 页面。

---

## 🔧 故障排除

### macOS: "应用已损坏，无法打开"
如果您从 GitHub 下载应用并看到 *"Gaze.app 已损坏，无法打开"* 的错误提示，这是由于 macOS Gatekeeper 的隔离机制导致的。

要解决此问题，请在终端中运行以下命令：
```bash
sudo xattr -cr /path/to/Gaze.app
```
*(请将 `/path/to/Gaze.app` 替换为您下载应用的实际路径)*

> **或者选择自己构建：** 如果您不想绕过 Gatekeeper，您可以轻松地[从源码构建应用](#-开始使用)。只需几分钟即可完成！

### Windows: "Windows 已保护你的电脑"
如果看到蓝色的 SmartScreen 窗口阻止应用启动：
1. 点击 **更多信息 (More info)**。
2. 点击 **仍要运行 (Run anyway)**。

---

## 📄 许可证
本项目采用 MIT 许可证。
